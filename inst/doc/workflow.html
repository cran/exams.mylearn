<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Darjus Hosszejni, WU Vienna" />


<title>Generate Questions for MyLearn</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Generate Questions for MyLearn</h1>
<h4 class="author">Darjus Hosszejni, WU Vienna</h4>


<div id="TOC">
<ul>
<li><a href="#intro">Intro</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#demo">Demo</a></li>
<li><a href="#recommended-workflow">Recommended Workflow</a><ul>
<li><a href="#writing-the-question-templates">Writing the Question Templates</a></li>
<li><a href="#generating-the-exercises">Generating the Exercises</a><ul>
<li><a href="#tip">Tip</a></li>
<li><a href="#special-characters-on-windows">Special Characters on Windows</a></li>
</ul></li>
<li><a href="#uploading-to-mylearn">Uploading to MyLearn</a><ul>
<li><a href="#first-upload">First Upload</a></li>
<li><a href="#re-uploading-with-the-same-shortname">Re-uploading with the Same Shortname</a></li>
</ul></li>
<li><a href="#importing-exercises">Importing Exercises</a></li>
<li><a href="#organizing-a-random-question-on-mylearn">Organizing a Random Question on MyLearn</a></li>
</ul></li>
<li><a href="#issues">Issues</a></li>
<li><a href="#maintainance">Maintainance</a></li>
</ul>
</div>

<div id="intro" class="section level1">
<h1>Intro</h1>
<p>Randomized multiple-select and single-select question generation for the MyLearn teaching platform used by universities. Question templates in the form of the <a href="http://www.r-exams.org/">R/exams</a> package are transformed into MyLearn’s XML format. Note that the feedback has to stay simple, see the Issues section. The imported questions can be organized into exams in the Learning Activities.</p>
<p>Dependencies:</p>
<ul>
<li><code>libxml2</code>: found on popular Linux distros and in Rtools by default</li>
<li><code>pandoc</code>: gets installed by <code>R</code> during installation</li>
<li><code>R</code>: a recent version</li>
<li>popular <code>R</code> packages: installed automatically</li>
</ul>
<p>The question import functionality might have to be turned on by your MyLearn support team.</p>
</div>
<div id="installation" class="section level1">
<h1>Installation</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;exams.mylearn&quot;</span>)</a></code></pre></div>
</div>
<div id="demo" class="section level1">
<h1>Demo</h1>
<p>One creates an <code>R/exams</code> compatible exercise file similar to <code>example_question.Rmd</code>, decides for a name prefix and for the number of generated exams.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;exams.mylearn&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">n &lt;-<span class="st"> </span>10L  <span class="co"># number of variants of the exercise</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">name &lt;-<span class="st"> &quot;learn_exercise&quot;</span>  <span class="co"># prefix of the generated file names</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">exercise_file &lt;-<span class="st"> </span><span class="kw">example_paths</span>()[<span class="st">&quot;R_table&quot;</span>]</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">output &lt;-<span class="st"> </span><span class="kw">exams2mylearn</span>(<span class="dt">filename =</span> exercise_file,</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">                        <span class="dt">n =</span> n, <span class="dt">dir =</span> <span class="st">&quot;.&quot;</span>,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">                        <span class="dt">outfile =</span> <span class="st">&quot;question_table.zip&quot;</span>)</a></code></pre></div>
<p>The output .zip filepath is saved in <code>output</code>. One can upload that .zip file to Learn directly (after the Learn development team has activated that feature for the given course).</p>
</div>
<div id="recommended-workflow" class="section level1">
<h1>Recommended Workflow</h1>
<div id="writing-the-question-templates" class="section level2">
<h2>Writing the Question Templates</h2>
<p>The question templates are the .Rmd files. Find how-to’s in the files returned by <code>example_paths()</code>. Best starting point is <code>example_paths()[&quot;mixture&quot;]</code>, that contains solutions to most features you might need in an exam question.</p>
<p>The recommended way of debugging the questions is via</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">filename &lt;-<span class="st"> &quot;potential-exercise.Rmd&quot;</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">exams<span class="op">::</span><span class="kw">exams2html</span>(filename, <span class="dt">n =</span> 1L,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">                  <span class="dt">converter =</span> <span class="st">&quot;pandoc-mathjax&quot;</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">                  <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>The generated HTML file opened in the browser closely resembles the looks of the exercise on MyLearn.</p>
</div>
<div id="generating-the-exercises" class="section level2">
<h2>Generating the Exercises</h2>
<p>Set the current working directory to where the exercise templates are, then run the following.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">filenames &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">&quot;.*.Rmd$&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">n &lt;-<span class="st"> </span>25L</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="cf">for</span> (filename <span class="cf">in</span> filenames) {</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="kw">exams2mylearn</span>(filename, <span class="dt">n =</span> n,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                <span class="dt">outfile =</span> <span class="st">&quot;exam-exercises.zip&quot;</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">                <span class="dt">dir =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">dontask =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">}</a></code></pre></div>
<div id="tip" class="section level3">
<h3>Tip</h3>
<p>If you’re uploading improved exercises over and over again, I recommend executing the following <code>for</code> loop instead:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">filenames &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">&quot;.*.Rmd$&quot;</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">n &lt;-<span class="st"> </span>500L</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="cf">for</span> (filename <span class="cf">in</span> filenames) {</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="kw">exams2mylearn</span>(filename, <span class="dt">n =</span> n,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">                <span class="dt">outfile =</span> <span class="st">&quot;exam-exercises.zip&quot;</span>,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">                <span class="dt">dir =</span> <span class="st">&quot;.&quot;</span>, <span class="dt">dontask =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">                <span class="dt">distort.shortname =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">                <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">}</a></code></pre></div>
<p>This way the shortname will be unique every time and you will have more feedback on where the generation process is.</p>
</div>
<div id="special-characters-on-windows" class="section level3">
<h3>Special Characters on Windows</h3>
<p>The .Rmd file is assumed to have UTF-8 encoding. That is important in case the .Rmd file contains special (e.g. German) characters.</p>
<p>In RStudio, one can choose the encoding for file reading under <em>File</em> &gt; <em>Reopen with Encoding</em>, and for file writing under <em>File</em> &gt; <em>Save with Encoding</em>. It is recommended to do both with UTF-8.</p>
</div>
</div>
<div id="uploading-to-mylearn" class="section level2">
<h2>Uploading to MyLearn</h2>
<p>In the course find <em>Administrate</em>, then under <em>“Old” learning materials</em> click on <em>organize</em>. Then under <em>XML-file</em> choose the .zip file created in the previous step. Finally, click on <em>Import learning materials</em>.</p>
<div id="first-upload" class="section level3">
<h3>First Upload</h3>
<p>At the first upload a newly opened window shows a row for each exercise in the .zip file. Those containing plots show a warning, that is normal. By clicking on <em>Ansicht</em>, the uploaded exercise appears.</p>
<p>There is no way out from here, go back to the home page.</p>
</div>
<div id="re-uploading-with-the-same-shortname" class="section level3">
<h3>Re-uploading with the Same Shortname</h3>
<p>In this case a smaller list of the re-uploaded exercises is shown. Choose all of them and click on <em>Submit</em>. This overwrites the old versions.</p>
</div>
</div>
<div id="importing-exercises" class="section level2">
<h2>Importing Exercises</h2>
<p>Yes, uploading and importing are different steps. In the menu of the course’s <em>Learning activities</em>, click on <em>Import</em> &gt; <em>Import of existing learning materials</em>. A table of uploaded exercises appears.</p>
<p>Use the filters to filter out your exercises. The most useful filters are <em>Already imported</em> set to <em>No</em> and the text input where you can use the unique shortnames.</p>
<p>Select all exercises with one click, then <em>Selected items</em> &gt; <em>Import</em>. This brings you to the imported exercises. Select all and then <em>Selected items</em> &gt; <em>Add to clipboard</em>.</p>
</div>
<div id="organizing-a-random-question-on-mylearn" class="section level2">
<h2>Organizing a Random Question on MyLearn</h2>
<p>Create a new <em>Poolfolder</em> in the <em>Learning activities</em> and open it. Click on <em>Clipboard</em> &gt; <em>Insert content here</em> and then <em>ok</em>. Release all questions in the poolfolder otherwise the random question won’t work.</p>
<p>Now create a <em>Proxy</em> outside of the poolfolder and associate it with the poolfolder you created. This was the last step, congratulations!</p>
<p>The poolfolder contains the pool of questions that the random question will choose from. It samples with replacement from the pool each time someone opens the question. Poolfolders and their content are always hidden from students.</p>
<p>At this point I recommend that you delete the exercises in the imported view. For that: in the menu of the course’s <em>Learning activities</em>, click on <em>Import</em> &gt; <em>Import of existing learning materials</em>. Delete all exercises.</p>
</div>
</div>
<div id="issues" class="section level1">
<h1>Issues</h1>
<ol style="list-style-type: decimal">
<li>MyLearn handles only single select and multiple select questions.</li>
<li>“Answerlist” in the Solution block doesn’t work on MyLearn.</li>
</ol>
</div>
<div id="maintainance" class="section level1">
<h1>Maintainance</h1>
<p>Should you find bugs or request features, please use the <a href="https://github.com/hdarjus/exams.mylearn/issues">Issue tracker on Github</a>.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
